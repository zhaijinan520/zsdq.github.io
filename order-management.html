<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中商达祺科技集团 - 财税订单管理系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2C3E50;
            --primary-dark: #1A252F;
            --primary-light: #34495E;
            --secondary-color: #3498DB;
            --light-color: #f8f9fa;
            --dark-color: #333;
            --success-color: #27AE60;
            --warning-color: #F39C12;
            --danger-color: #E74C3C;
            --gray-color: #95A5A6;
            --border-color: #dee2e6;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: var(--light-color);
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }
        
        @media (min-width: 576px) {
            .container {
                max-width: 540px;
            }
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 720px;
            }
        }
        
        @media (min-width: 992px) {
            .container {
                max-width: 960px;
            }
        }
        
        @media (min-width: 1200px) {
            .container {
                max-width: 1140px;
            }
        }
        
        /* 顶部导航 */
        .navbar {
            background-color: var(--primary-color);
            box-shadow: var(--shadow);
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 100;
        }
        
        .navbar-logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        
        .navbar-logo img {
            height: 40px;
            margin-right: 10px;
        }
        
        .navbar-logo span {
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info .user-details {
            color: white;
            margin-right: 15px;
        }
        
        .user-info .user-name {
            font-weight: 500;
        }
        
        .user-info .user-department-role {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .user-info img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
            border: 2px solid rgba(255,255,255,0.3);
        }
        
        /* 主内容区布局 */
        .main-container {
            display: flex;
            min-height: calc(100vh - 64px);
        }
        
        /* 侧边栏 */
        .sidebar {
            width: 250px;
            background-color: white;
            box-shadow: var(--shadow);
            padding-top: 1.5rem;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .sidebar-menu-section {
            padding: 0 1.5rem;
            margin: 1rem 0 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--gray-color);
            font-weight: 500;
        }
        
        .sidebar-menu-item {
            margin-bottom: 0.25rem;
        }
        
        .sidebar-menu-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: var(--dark-color);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .sidebar-menu-link:hover, .sidebar-menu-link.active {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--secondary-color);
            border-left: 3px solid var(--secondary-color);
        }
        
        .sidebar-menu-link i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        /* 主内容 */
        .content {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
        }
        
        .page-header {
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            font-weight: 500;
            text-align: center;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .btn i {
            margin-right: 5px;
        }
        
        .btn-primary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: white;
            color: var(--secondary-color);
            border: 1px solid var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #219653;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-warning {
            background-color: var(--warning-color);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        /* 卡片样式 */
        .card {
            background-color: white;
            border-radius: 6px;
            box-shadow: var(--shadow);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        
        .card-header {
            padding: 1rem 1.25rem;
            background-color: white;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .card-body {
            padding: 1.25rem;
        }
        
        /* 表单样式 */
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            display: block;
            width: 100%;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.25);
        }
        
        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23333' viewBox='0 0 16 16'%3e%3cpath d='M8 11l4-4H4l4 4z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 16px;
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        /* 表格样式 */
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th,
        .table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .table th {
            font-weight: 600;
            color: var(--primary-color);
            background-color: rgba(0, 0, 0, 0.03);
        }
        
        .table tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        /* 状态标签 */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 500;
            border-radius: 4px;
        }
        
        .badge-primary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .badge-success {
            background-color: var(--success-color);
            color: white;
        }
        
        .badge-warning {
            background-color: var(--warning-color);
            color: var(--dark-color);
        }
        
        .badge-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .badge-gray {
            background-color: var(--gray-color);
            color: white;
        }
        
        .badge-purple {
            background-color: #9B59B6;
            color: white;
        }
        
        /* 分页 */
        .pagination {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 1rem 0;
        }
        
        .pagination li {
            margin: 0 0.25rem;
        }
        
        .pagination a {
            display: inline-block;
            padding: 0.5rem 0.75rem;
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .pagination a:hover, .pagination a.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        /* 搜索框 */
        .search-box {
            display: flex;
            margin-bottom: 1rem;
        }
        
        .search-box .form-control {
            border-radius: 4px 0 0 4px;
        }
        
        .search-box .btn {
            border-radius: 0 4px 4px 0;
        }
        
        /* 筛选器 */
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .filter-item {
            flex: 1;
            min-width: 200px;
        }
        
        /* 模态框 */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-backdrop.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }
        
        .modal-backdrop.show .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            padding: 1rem 1.25rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray-color);
            transition: color 0.3s ease;
        }
        
        .modal-close:hover {
            color: var(--danger-color);
        }
        
        .modal-body {
            padding: 1.25rem;
        }
        
        .modal-footer {
            padding: 1rem 1.25rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        /* 登录页面 */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: var(--light-color);
            background-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .login-card {
            width: 100%;
            max-width: 400px;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .login-header {
            padding: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            text-align: center;
        }
        
        .login-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .login-body {
            padding: 1.5rem;
        }
        
        .login-footer {
            padding: 1rem 1.5rem;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }
        
        .login-footer a {
            color: var(--secondary-color);
            text-decoration: none;
        }
        
        .login-footer a:hover {
            text-decoration: underline;
        }
        
        /* 订单详情样式 */
        .order-detail-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .order-status {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .order-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .order-info-item {
            margin-bottom: 0.5rem;
        }
        
        .order-info-label {
            font-weight: 500;
            color: var(--gray-color);
            margin-bottom: 0.25rem;
            display: block;
        }
        
        .order-timeline {
            position: relative;
            margin: 2rem 0;
            padding-left: 2rem;
        }
        
        .order-timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0.5rem;
            width: 2px;
            background-color: var(--border-color);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 0.3rem;
            width: 1.2rem;
            height: 1.2rem;
            border-radius: 50%;
            background-color: white;
            border: 2px solid var(--secondary-color);
            z-index: 1;
        }
        
        .timeline-item.completed::before {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }
        
        .timeline-item.current::before {
            background-color: var(--secondary-color);
        }
        
        .timeline-item.future::before {
            background-color: white;
            border-color: var(--border-color);
        }
        
        .timeline-content {
            padding: 0.5rem 0;
        }
        
        .timeline-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .timeline-time {
            font-size: 0.85rem;
            color: var(--gray-color);
            margin-bottom: 0.25rem;
        }
        
        /* 代理记账服务信息样式 */
        .service-info-card {
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            background-color: rgba(52, 152, 219, 0.05);
            border-radius: 0 4px 4px 0;
            margin-bottom: 1.5rem;
        }
        
        .service-info-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .service-info-title i {
            margin-right: 8px;
            color: var(--secondary-color);
        }
        
        .service-period {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            background-color: rgba(52, 152, 219, 0.1);
            border-radius: 4px;
            margin-right: 10px;
            font-size: 0.85rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                padding-top: 0;
                border-bottom: 1px solid var(--border-color);
            }
            
            .sidebar-menu {
                display: flex;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .sidebar-menu-section {
                display: none;
            }
            
            .sidebar-menu-item {
                margin-bottom: 0;
                flex: 0 0 auto;
            }
            
            .sidebar-menu-link {
                padding: 0.75rem 1rem;
                border-left: none !important;
                border-bottom: 3px solid transparent;
            }
            
            .sidebar-menu-link:hover, .sidebar-menu-link.active {
                border-bottom-color: var(--secondary-color);
            }
            
            .sidebar-menu-link i {
                margin-right: 5px;
            }
            
            .content {
                padding: 1rem;
            }
            
            .order-detail-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .modal {
                width: 95%;
            }
        }
        
        /* 隐藏和显示元素 */
        .hidden {
            display: none !important;
        }
        
        /* 角色和部门权限相关样式 */
        [data-role]:not([data-role~="admin"]):not([data-role~="manager"]):not([data-role~="staff"]) {
            display: none;
        }
        
        [data-department]:not([data-department~="all"]):not([data-department~="sales"]):not([data-department~="business"]):not([data-department~="accounting"]) {
            display: none;
        }
        
        /* 加载动画 */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 通知提示 */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .toast {
            background-color: white;
            border-left: 4px solid var(--secondary-color);
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            margin-top: 0.5rem;
            min-width: 300px;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast-success {
            border-left-color: var(--success-color);
        }
        
        .toast-error {
            border-left-color: var(--danger-color);
        }
        
        .toast-warning {
            border-left-color: var(--warning-color);
        }
        
        .toast-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .toast-title {
            font-weight: 600;
            margin: 0;
        }
        
        .toast-close {
            background: none;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            color: var(--gray-color);
        }
        
        /* 数据卡片样式 */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 6px;
            box-shadow: var(--shadow);
            padding: 1.25rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .stat-card-title {
            color: var(--gray-color);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .stat-card-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .stat-card-value {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .stat-card-trend {
            display: flex;
            align-items: center;
            font-size: 0.85rem;
        }
        
        .trend-up {
            color: var(--success-color);
        }
        
        .trend-down {
            color: var(--danger-color);
        }
        
        /* 会计服务页面特殊样式 */
        .client-status-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .status-active {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success-color);
        }
        
        .status-warning {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning-color);
        }
        
        .status-inactive {
            background-color: rgba(149, 165, 166, 0.1);
            color: var(--gray-color);
        }
        
        .renewal-soon {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                background-color: rgba(243, 156, 18, 0.1);
            }
            50% {
                background-color: rgba(243, 156, 18, 0.3);
            }
            100% {
                background-color: rgba(243, 156, 18, 0.1);
            }
        }
    </style>
</head>
<body>
    <!-- 登录页面 -->
    <div id="login-page" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h2>财税订单管理系统</h2>
                <p>中商达祺科技集团</p>
            </div>
            <div class="login-body">
                <form id="login-form">
                    <div class="form-group">
                        <label class="form-label" for="login-username">用户名</label>
                        <input type="text" class="form-control" id="login-username" placeholder="请输入用户名" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="login-password">密码</label>
                        <input type="password" class="form-control" id="login-password" placeholder="请输入密码" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block w-100">登录</button>
                </form>
            </div>
            <div class="login-footer">
                <p>员工账号请联系管理员获取</p>
            </div>
        </div>
    </div>

    <!-- 主系统页面 -->
    <div id="main-system" class="hidden">
        <!-- 顶部导航 -->
        <nav class="navbar">
            <a href="#" class="navbar-logo">
                <img src="logo.png" alt="中商达祺科技集团">
                <span>财税订单管理系统</span>
            </a>
            <div class="user-info">
                <div class="user-details">
                    <div class="user-name" id="current-username">用户名</div>
                    <div class="user-department-role" id="current-user-department-role">部门 / 角色</div>
                </div>
                <button id="logout-btn" class="btn btn-secondary ml-3">
                    <i class="fas fa-sign-out-alt"></i> 退出
                </button>
            </div>
        </nav>

        <!-- 主内容区 -->
        <div class="main-container">
            <!-- 侧边栏 -->
            <aside class="sidebar">
                <ul class="sidebar-menu">
                    <li class="sidebar-menu-section">主要功能</li>
                    <li class="sidebar-menu-item">
                        <a href="#dashboard" class="sidebar-menu-link active" data-page="dashboard">
                            <i class="fas fa-tachometer-alt"></i> 仪表盘
                        </a>
                    </li>
                    <li class="sidebar-menu-item">
                        <a href="#orders" class="sidebar-menu-link" data-page="orders">
                            <i class="fas fa-clipboard-list"></i> 订单管理
                        </a>
                    </li>
                    <li class="sidebar-menu-item">
                        <a href="#customers" class="sidebar-menu-link" data-page="customers">
                            <i class="fas fa-users"></i> 客户管理
                        </a>
                    </li>
                    
                    <li class="sidebar-menu-section">部门功能</li>
                    <li class="sidebar-menu-item" data-department="sales all">
                        <a href="#sales" class="sidebar-menu-link" data-page="sales">
                            <i class="fas fa-handshake"></i> 销售管理
                        </a>
                    </li>
                    <li class="sidebar-menu-item" data-department="business all">
                        <a href="#business" class="sidebar-menu-link" data-page="business">
                            <i class="fas fa-building"></i> 工商业务
                        </a>
                    </li>
                    <li class="sidebar-menu-item" data-department="accounting all">
                        <a href="#accounting" class="sidebar-menu-link" data-page="accounting">
                            <i class="fas fa-calculator"></i> 会计服务
                        </a>
                    </li>
                    
                    <li class="sidebar-menu-section">系统管理</li>
                    <li class="sidebar-menu-item" data-role="admin manager">
                        <a href="#employees" class="sidebar-menu-link" data-page="employees">
                            <i class="fas fa-user-friends"></i> 员工管理
                        </a>
                    </li>
                    <li class="sidebar-menu-item" data-role="admin">
                        <a href="#settings" class="sidebar-menu-link" data-page="settings">
                            <i class="fas fa-cog"></i> 系统设置
                        </a>
                    </li>
                </ul>
            </aside>

            <!-- 主内容 -->
            <main class="content">
                <!-- 仪表盘页面 -->
                <div id="dashboard-page" class="page-content">
                    <div class="page-header">
                        <h1 class="page-title">仪表盘</h1>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">总订单数</div>
                                <div class="stat-card-icon" style="background-color: rgba(52, 152, 219, 0.8);">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="total-orders">0</div>
                            <div class="stat-card-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 较上月增长 12%
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">待处理订单</div>
                                <div class="stat-card-icon" style="background-color: rgba(243, 156, 18, 0.8);">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="pending-orders">0</div>
                            <div class="stat-card-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 较昨日增长 3
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">进行中记账客户</div>
                                <div class="stat-card-icon" style="background-color: rgba(39, 174, 96, 0.8);">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="active-accounting">0</div>
                            <div class="stat-card-trend trend-up">
                                <i class="fas fa-arrow-up"></i> 较上月增长 8
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">即将到期客户</div>
                                <div class="stat-card-icon" style="background-color: rgba(231, 76, 60, 0.8);">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="expiring-soon">0</div>
                            <div class="stat-card-trend trend-down">
                                <i class="fas fa-arrow-down"></i> 较上周减少 2
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">最近订单</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>订单编号</th>
                                            <th>客户名称</th>
                                            <th>服务类型</th>
                                            <th>负责部门</th>
                                            <th>订单状态</th>
                                            <th>创建时间</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recent-orders-table">
                                        <!-- 最近订单数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 订单管理页面 -->
                <div id="orders-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">订单管理</h1>
                        <button id="add-order-btn" class="btn btn-primary" data-role="admin manager staff">
                            <i class="fas fa-plus"></i> 新增订单
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">订单列表</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="order-search" placeholder="搜索订单编号、客户名称...">
                                <button class="btn btn-primary" id="search-order-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="order-status-filter">订单状态</label>
                                    <select class="form-control" id="order-status-filter">
                                        <option value="">全部状态</option>
                                        <option value="pending">待处理</option>
                                        <option value="processing">处理中</option>
                                        <option value="reviewing">审核中</option>
                                        <option value="completed">已完成</option>
                                        <option value="cancelled">已取消</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="order-service-filter">服务类型</label>
                                    <select class="form-control" id="order-service-filter">
                                        <option value="">全部服务</option>
                                        <option value="company-registration">公司注册</option>
                                        <option value="accounting">代理记账</option>
                                        <option value="company-cancellation">公司注销</option>
                                        <option value="company-change">公司变更</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="order-department-filter">负责部门</label>
                                    <select class="form-control" id="order-department-filter">
                                        <option value="">全部部门</option>
                                        <option value="sales">销售部</option>
                                        <option value="business">工商部</option>
                                        <option value="accounting">会计部</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="order-date-filter">创建日期</label>
                                    <input type="date" class="form-control" id="order-date-filter">
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>订单编号</th>
                                            <th>客户名称</th>
                                            <th>服务类型</th>
                                            <th>负责部门</th>
                                            <th>负责人</th>
                                            <th>订单状态</th>
                                            <th>创建时间</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="orders-table">
                                        <!-- 订单数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="orders-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 客户管理页面 -->
                <div id="customers-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">客户管理</h1>
                        <button id="add-customer-btn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> 新增客户
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">客户列表</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="customer-search" placeholder="搜索客户名称、联系人...">
                                <button class="btn btn-primary" id="search-customer-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="customer-type-filter">客户类型</label>
                                    <select class="form-control" id="customer-type-filter">
                                        <option value="">全部类型</option>
                                        <option value="individual">个人</option>
                                        <option value="enterprise">企业</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="customer-service-filter">服务状态</label>
                                    <select class="form-control" id="customer-service-filter">
                                        <option value="">全部状态</option>
                                        <option value="active">服务中</option>
                                        <option value="inactive">无服务</option>
                                        <option value="expiring">即将到期</option>
                                    </select>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>客户名称</th>
                                            <th>联系人</th>
                                            <th>联系电话</th>
                                            <th>客户类型</th>
                                            <th>当前服务</th>
                                            <th>服务到期日</th>
                                            <th>创建时间</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customers-table">
                                        <!-- 客户数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="customers-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 销售管理页面 -->
                <div id="sales-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">销售管理</h1>
                        <div>
                            <button id="add-sales-order-btn" class="btn btn-primary">
                                <i class="fas fa-plus"></i> 新增销售订单
                            </button>
                            <button id="my-clients-btn" class="btn btn-secondary ml-2">
                                <i class="fas fa-users"></i> 我的客户
                            </button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">销售订单</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="sales-order-search" placeholder="搜索订单编号、客户名称...">
                                <button class="btn btn-primary" id="search-sales-order-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="sales-order-status-filter">订单状态</label>
                                    <select class="form-control" id="sales-order-status-filter">
                                        <option value="">全部状态</option>
                                        <option value="pending">待处理</option>
                                        <option value="processing">处理中</option>
                                        <option value="reviewing">审核中</option>
                                        <option value="completed">已完成</option>
                                        <option value="cancelled">已取消</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="sales-order-type-filter">服务类型</label>
                                    <select class="form-control" id="sales-order-type-filter">
                                        <option value="">全部服务</option>
                                        <option value="company-registration">公司注册</option>
                                        <option value="accounting">代理记账</option>
                                        <option value="company-cancellation">公司注销</option>
                                        <option value="company-change">公司变更</option>
                                    </select>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>订单编号</th>
                                            <th>客户名称</th>
                                            <th>服务类型</th>
                                            <th>订单金额</th>
                                            <th>订单状态</th>
                                            <th>创建时间</th>
                                            <th>后续处理部门</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="sales-orders-table">
                                        <!-- 销售订单数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="sales-orders-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">待续约客户</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>客户名称</th>
                                            <th>当前服务</th>
                                            <th>到期日期</th>
                                            <th>负责销售</th>
                                            <th>联系方式</th>
                                            <th>状态</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="renewal-clients-table">
                                        <!-- 待续约客户数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 工商业务页面 -->
                <div id="business-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">工商业务</h1>
                        <button id="my-business-orders-btn" class="btn btn-secondary">
                            <i class="fas fa-list"></i> 我的任务
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">工商订单列表</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="business-order-search" placeholder="搜索订单编号、客户名称...">
                                <button class="btn btn-primary" id="search-business-order-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="business-order-status-filter">订单状态</label>
                                    <select class="form-control" id="business-order-status-filter">
                                        <option value="">全部状态</option>
                                        <option value="pending">待处理</option>
                                        <option value="processing">处理中</option>
                                        <option value="reviewing">审核中</option>
                                        <option value="completed">已完成</option>
                                        <option value="cancelled">已取消</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="business-order-type-filter">服务类型</label>
                                    <select class="form-control" id="business-order-type-filter">
                                        <option value="">全部服务</option>
                                        <option value="company-registration">公司注册</option>
                                        <option value="company-cancellation">公司注销</option>
                                        <option value="company-change">公司变更</option>
                                    </select>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>订单编号</th>
                                            <th>客户名称</th>
                                            <th>服务类型</th>
                                            <th>订单金额</th>
                                            <th>负责人</th>
                                            <th>订单状态</th>
                                            <th>创建时间</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="business-orders-table">
                                        <!-- 工商订单数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="business-orders-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 会计服务页面 -->
                <div id="accounting-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">会计服务</h1>
                        <div>
                            <button id="my-accounting-clients-btn" class="btn btn-secondary">
                                <i class="fas fa-users"></i> 我的客户
                            </button>
                            <button id="add-accounting-order-btn" class="btn btn-primary ml-2">
                                <i class="fas fa-plus"></i> 新增记账订单
                            </button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">记账客户列表</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="accounting-client-search" placeholder="搜索客户名称、联系人...">
                                <button class="btn btn-primary" id="search-accounting-client-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="accounting-status-filter">服务状态</label>
                                    <select class="form-control" id="accounting-status-filter">
                                        <option value="">全部状态</option>
                                        <option value="active">服务中</option>
                                        <option value="expiring">即将到期</option>
                                        <option value="inactive">已到期</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="accounting-assignee-filter">负责人</label>
                                    <select class="form-control" id="accounting-assignee-filter">
                                        <option value="">全部会计</option>
                                        <!-- 会计人员选项将通过JS动态填充 -->
                                    </select>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>客户名称</th>
                                            <th>联系人</th>
                                            <th>联系电话</th>
                                            <th>服务开始日</th>
                                            <th>服务到期日</th>
                                            <th>服务周期</th>
                                            <th>负责人</th>
                                            <th>状态</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="accounting-clients-table">
                                        <!-- 会计客户数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="accounting-clients-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">本月记账进度</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>客户名称</th>
                                            <th>服务类型</th>
                                            <th>负责人</th>
                                            <th>应完成日期</th>
                                            <th>完成状态</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="monthly-accounting-table">
                                        <!-- 本月记账进度数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 员工管理页面 -->
                <div id="employees-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">员工管理</h1>
                        <button id="add-employee-btn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> 新增员工
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">员工列表</h2>
                        </div>
                        <div class="card-body">
                            <div class="search-box">
                                <input type="text" class="form-control" id="employee-search" placeholder="搜索员工姓名、用户名...">
                                <button class="btn btn-primary" id="search-employee-btn">
                                    <i class="fas fa-search"></i> 搜索
                                </button>
                            </div>

                            <div class="filters">
                                <div class="filter-item">
                                    <label class="form-label" for="employee-department-filter">部门</label>
                                    <select class="form-control" id="employee-department-filter">
                                        <option value="">全部部门</option>
                                        <option value="sales">销售部</option>
                                        <option value="business">工商部</option>
                                        <option value="accounting">会计部</option>
                                    </select>
                                </div>
                                <div class="filter-item">
                                    <label class="form-label" for="employee-role-filter">角色</label>
                                    <select class="form-control" id="employee-role-filter">
                                        <option value="">全部角色</option>
                                        <option value="admin">管理员</option>
                                        <option value="manager">经理</option>
                                        <option value="staff">员工</option>
                                    </select>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>员工姓名</th>
                                            <th>用户名</th>
                                            <th>部门</th>
                                            <th>联系电话</th>
                                            <th>电子邮箱</th>
                                            <th>角色</th>
                                            <th>状态</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="employees-table">
                                        <!-- 员工数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="pagination-container" style="display: flex; justify-content: center;">
                                <ul class="pagination" id="employees-pagination">
                                    <!-- 分页将通过JS动态填充 -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 系统设置页面 -->
                <div id="settings-page" class="page-content hidden">
                    <div class="page-header">
                        <h1 class="page-title">系统设置</h1>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">服务类型管理</h2>
                        </div>
                        <div class="card-body">
                            <button id="add-service-btn" class="btn btn-primary mb-3">
                                <i class="fas fa-plus"></i> 新增服务类型
                            </button>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>服务名称</th>
                                            <th>服务代码</th>
                                            <th>负责部门</th>
                                            <th>描述</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="services-table">
                                        <!-- 服务类型数据将通过JS动态填充 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">系统参数设置</h2>
                        </div>
                        <div class="card-body">
                            <form id="system-settings-form">
                                <div class="form-group">
                                    <label class="form-label" for="order-prefix">订单编号前缀</label>
                                    <input type="text" class="form-control" id="order-prefix" value="TAX">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="auto-assign-order">自动分配订单</label>
                                    <select class="form-control" id="auto-assign-order">
                                        <option value="0">关闭</option>
                                        <option value="1">开启</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="renewal-reminder-days">续约提醒天数</label>
                                    <input type="number" class="form-control" id="renewal-reminder-days" value="30" min="1" max="90">
                                </div>
                                <button type="submit" class="btn btn-primary">保存设置</button>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 订单详情模态框 -->
    <div class="modal-backdrop" id="order-detail-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">订单详情</h3>
                <button class="modal-close" id="close-order-detail-modal">&times;</button>
            </div>
            <div class="modal-body" id="order-detail-content">
                <!-- 订单详情内容将通过JS动态填充 -->
            </div>
            <div class="modal-footer" id="order-detail-actions">
                <!-- 订单操作按钮将通过JS动态填充 -->
            </div>
        </div>
    </div>

    <!-- 新增/编辑订单模态框 -->
    <div class="modal-backdrop" id="edit-order-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-order-modal-title">新增订单</h3>
                <button class="modal-close" id="close-edit-order-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="order-form">
                    <input type="hidden" id="order-id">
                    
                    <div class="form-group">
                        <label class="form-label" for="order-customer">客户 <span style="color: red;">*</span></label>
                        <select class="form-control" id="order-customer" required>
                            <option value="">请选择客户</option>
                            <!-- 客户选项将通过JS动态填充 -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="order-service">服务类型 <span style="color: red;">*</span></label>
                        <select class="form-control" id="order-service" required>
                            <option value="">请选择服务类型</option>
                            <option value="company-registration" data-department="business">公司注册</option>
                            <option value="accounting" data-department="accounting">代理记账</option>
                            <option value="company-cancellation" data-department="business">公司注销</option>
                            <option value="company-change" data-department="business">公司变更</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="service-period-group" style="display: none;">
                        <label class="form-label" for="service-period">服务周期（月）</label>
                        <input type="number" class="form-control" id="service-period" value="12" min="1">
                        <small class="form-text text-muted">适用于长期服务，如代理记账</small>
                    </div>
                    
                    <div class="form-group" id="service-start-date-group" style="display: none;">
                        <label class="form-label" for="service-start-date">服务开始日期</label>
                        <input type="date" class="form-control" id="service-start-date">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="order-amount">订单金额 <span style="color: red;">*</span></label>
                        <input type="number" class="form-control" id="order-amount" step="0.01" min="0" placeholder="请输入订单金额" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="order-description">订单描述</label>
                        <textarea class="form-control" id="order-description" placeholder="请输入订单描述"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="order-department">负责部门 <span style="color: red;">*</span></label>
                        <select class="form-control" id="order-department" required>
                            <option value="">请选择部门</option>
                            <option value="sales">销售部</option>
                            <option value="business">工商部</option>
                            <option value="accounting">会计部</option>
                        </select>
                    </div>
                    
                    <div class="form-group" data-role="admin manager">
                        <label class="form-label" for="order-assignee">负责人</label>
                        <select class="form-control" id="order-assignee">
                            <option value="">请选择负责人</option>
                            <!-- 员工选项将通过JS动态填充 -->
                        </select>
                    </div>
                    
                    <div class="form-group" data-role="admin manager">
                        <label class="form-label" for="order-status">订单状态</label>
                        <select class="form-control" id="order-status">
                            <option value="pending">待处理</option>
                            <option value="processing">处理中</option>
                            <option value="reviewing">审核中</option>
                            <option value="completed">已完成</option>
                            <option value="cancelled">已取消</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-order-btn">取消</button>
                <button class="btn btn-primary" id="save-order-btn">保存</button>
            </div>
        </div>
    </div>

    <!-- 新增/编辑客户模态框 -->
    <div class="modal-backdrop" id="edit-customer-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-customer-modal-title">新增客户</h3>
                <button class="modal-close" id="close-edit-customer-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="customer-form">
                    <input type="hidden" id="customer-id">
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-name">客户名称 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="customer-name" placeholder="请输入客户名称" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-contact">联系人 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="customer-contact" placeholder="请输入联系人" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-phone">联系电话 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="customer-phone" placeholder="请输入联系电话" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-email">电子邮箱</label>
                        <input type="email" class="form-control" id="customer-email" placeholder="请输入电子邮箱">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-address">公司地址</label>
                        <input type="text" class="form-control" id="customer-address" placeholder="请输入公司地址">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-type">客户类型 <span style="color: red;">*</span></label>
                        <select class="form-control" id="customer-type" required>
                            <option value="individual">个人</option>
                            <option value="enterprise">企业</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-sales">负责销售</label>
                        <select class="form-control" id="customer-sales">
                            <option value="">请选择销售</option>
                            <!-- 销售选项将通过JS动态填充 -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="customer-remark">备注</label>
                        <textarea class="form-control" id="customer-remark" placeholder="请输入备注信息"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-customer-btn">取消</button>
                <button class="btn btn-primary" id="save-customer-btn">保存</button>
            </div>
        </div>
    </div>

    <!-- 新增/编辑员工模态框 -->
    <div class="modal-backdrop" id="edit-employee-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-employee-modal-title">新增员工</h3>
                <button class="modal-close" id="close-edit-employee-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="employee-form">
                    <input type="hidden" id="employee-id">
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-name">员工姓名 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="employee-name" placeholder="请输入员工姓名" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-username">用户名 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="employee-username" placeholder="请输入用户名" required>
                    </div>
                    
                    <div class="form-group" id="employee-password-group">
                        <label class="form-label" for="employee-password">密码 <span style="color: red;">*</span></label>
                        <input type="password" class="form-control" id="employee-password" placeholder="请输入密码" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-department">部门 <span style="color: red;">*</span></label>
                        <select class="form-control" id="employee-department" required>
                            <option value="">请选择部门</option>
                            <option value="sales">销售部</option>
                            <option value="business">工商部</option>
                            <option value="accounting">会计部</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-phone">联系电话 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="employee-phone" placeholder="请输入联系电话" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-email">电子邮箱</label>
                        <input type="email" class="form-control" id="employee-email" placeholder="请输入电子邮箱">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-role">角色 <span style="color: red;">*</span></label>
                        <select class="form-control" id="employee-role" required>
                            <option value="admin">管理员</option>
                            <option value="manager">经理</option>
                            <option value="staff">员工</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="employee-status">状态</label>
                        <select class="form-control" id="employee-status">
                            <option value="active">在职</option>
                            <option value="inactive">离职</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-employee-btn">取消</button>
                <button class="btn btn-primary" id="save-employee-btn">保存</button>
            </div>
        </div>
    </div>

    <!-- 新增/编辑服务类型模态框 -->
    <div class="modal-backdrop" id="edit-service-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-service-modal-title">新增服务类型</h3>
                <button class="modal-close" id="close-edit-service-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="service-form">
                    <input type="hidden" id="service-id">
                    
                    <div class="form-group">
                        <label class="form-label" for="service-name">服务名称 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="service-name" placeholder="请输入服务名称" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="service-code">服务代码 <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" id="service-code" placeholder="请输入服务代码" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="service-department">负责部门 <span style="color: red;">*</span></label>
                        <select class="form-control" id="service-department" required>
                            <option value="">请选择部门</option>
                            <option value="sales">销售部</option>
                            <option value="business">工商部</option>
                            <option value="accounting">会计部</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="service-description">服务描述</label>
                        <textarea class="form-control" id="service-description" placeholder="请输入服务描述"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="service-is-recurring">是否为长期服务</label>
                        <select class="form-control" id="service-is-recurring">
                            <option value="0">否</option>
                            <option value="1">是</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-service-btn">取消</button>
                <button class="btn btn-primary" id="save-service-btn">保存</button>
            </div>
        </div>
    </div>

    <!-- 处理订单模态框 -->
    <div class="modal-backdrop" id="process-order-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">处理订单</h3>
                <button class="modal-close" id="close-process-order-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="process-order-form">
                    <input type="hidden" id="process-order-id">
                    
                    <div class="form-group">
                        <label class="form-label" for="process-order-status">处理状态 <span style="color: red;">*</span></label>
                        <select class="form-control" id="process-order-status" required>
                            <option value="processing">处理中</option>
                            <option value="reviewing">提交审核</option>
                            <option value="completed">完成订单</option>
                            <option value="cancelled">取消订单</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="process-order-notes">处理备注 <span style="color: red;">*</span></label>
                        <textarea class="form-control" id="process-order-notes" placeholder="请输入处理备注信息，如进度、遇到的问题等" required></textarea>
                    </div>
                    
                    <div class="form-group" id="transfer-department-group" style="display: none;">
                        <label class="form-label" for="transfer-department">转交部门</label>
                        <select class="form-control" id="transfer-department">
                            <option value="">请选择部门</option>
                            <option value="sales">销售部</option>
                            <option value="business">工商部</option>
                            <option value="accounting">会计部</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="transfer-user-group" style="display: none;">
                        <label class="form-label" for="transfer-user">转交负责人</label>
                        <select class="form-control" id="transfer-user">
                            <option value="">请选择负责人</option>
                            <!-- 员工选项将通过JS动态填充 -->
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-process-order-btn">取消</button>
                <button class="btn btn-primary" id="submit-process-order-btn">提交处理结果</button>
            </div>
        </div>
    </div>

    <!-- 会计服务详情模态框 -->
    <div class="modal-backdrop" id="accounting-detail-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">记账服务详情</h3>
                <button class="modal-close" id="close-accounting-detail-modal">&times;</button>
            </div>
            <div class="modal-body" id="accounting-detail-content">
                <!-- 会计服务详情内容将通过JS动态填充 -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-accounting-detail-btn">关闭</button>
                <button class="btn btn-primary" id="update-accounting-status-btn">更新服务状态</button>
                <button class="btn btn-warning" id="renew-accounting-service-btn">续约</button>
            </div>
        </div>
    </div>

    <!-- 通知提示容器 -->
    <div class="toast-container" id="toast-container">
        <!-- 通知提示将通过JS动态填充 -->
    </div>

    <script>
        // 全局变量
        let currentUser = null;
        let orders = [];
        let customers = [];
        let employees = [];
        let services = [];
        let settings = {};
        let currentOrderPage = 1;
        let currentCustomerPage = 1;
        let currentEmployeePage = 1;
        let currentSalesOrderPage = 1;
        let currentBusinessOrderPage = 1;
        let currentAccountingClientPage = 1;
        const pageSize = 10;
        let currentAccountingDetailId = null;

        // DOM 元素加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化本地存储数据
            initLocalStorageData();
            
            // 检查用户是否已登录
            checkLoginStatus();
            
            // 绑定事件监听器
            bindEventListeners();
        });

        // 初始化本地存储数据
        function initLocalStorageData() {
            // 如果本地存储中没有数据，则初始化一些示例数据
            if (!localStorage.getItem('orders')) {
                const initialOrders = [
                    {
                        id: 1,
                        orderNumber: 'TAX20230001',
                        customerId: 1,
                        serviceType: 'company-registration',
                        servicePeriod: null,
                        serviceStartDate: null,
                        serviceEndDate: null,
                        amount: 1500.00,
                        description: '深圳科技有限公司注册',
                        department: 'business',
                        assigneeId: 3,
                        status: 'completed',
                        createdAt: '2023-07-01T09:30:00',
                        updatedAt: '2023-07-10T15:45:00',
                        timeline: [
                            {
                                status: 'pending',
                                note: '订单创建',
                                operator: 1,
                                time: '2023-07-01T09:30:00'
                            },
                            {
                                status: 'processing',
                                note: '开始处理，收集资料',
                                operator: 3,
                                time: '2023-07-02T10:15:00'
                            },
                            {
                                status: 'reviewing',
                                note: '提交审核',
                                operator: 3,
                                time: '2023-07-08T14:20:00'
                            },
                            {
                                status: 'completed',
                                note: '审核通过，完成注册',
                                operator: 2,
                                time: '2023-07-10T15:45:00'
                            }
                        ]
                    },
                    {
                        id: 2,
                        orderNumber: 'TAX20230002',
                        customerId: 1,
                        serviceType: 'accounting',
                        servicePeriod: 12,
                        serviceStartDate: '2023-08-01',
                        serviceEndDate: '2024-07-31',
                        amount: 3600.00,
                        description: '月度代理记账服务，小规模纳税人',
                        department: 'accounting',
                        assigneeId: 4,
                        status: 'processing',
                        createdAt: '2023-07-15T11:20:00',
                        updatedAt: '2023-07-16T16:30:00',
                        timeline: [
                            {
                                status: 'pending',
                                note: '订单创建',
                                operator: 1,
                                time: '2023-07-15T11:20:00'
                            },
                            {
                                status: 'processing',
                                note: '开始处理，接收票据，建立账套',
                                operator: 4,
                                time: '2023-07-16T16:30:00'
                            }
                        ],
                        monthlyStatus: [
                            { month: '2023-08', status: 'completed', operator: 4, date: '2023-09-05' },
                            { month: '2023-09', status: 'completed', operator: 4, date: '2023-10-03' },
                            { month: '2023-10', status: 'completed', operator: 4, date: '2023-11-06' },
                            { month: '2023-11', status: 'pending', operator: null, date: null }
                        ]
                    },
                    {
                        id: 3,
                        orderNumber: 'TAX20230003',
                        customerId: 2,
                        serviceType: 'company-change',
                        servicePeriod: null,
                        serviceStartDate: null,
                        serviceEndDate: null,
                        amount: 800.00,
                        description: '公司地址变更',
                        department: 'business',
                        assigneeId: 3,
                        status: 'processing',
                        createdAt: '2023-10-05T10:00:00',
                        updatedAt: '2023-10-06T09:15:00',
                        timeline: [
                            {
                                status: 'pending',
                                note: '订单创建',
                                operator: 1,
                                time: '2023-10-05T10:00:00'
                            },
                            {
                                status: 'processing',
                                note: '准备变更材料',
                                operator: 3,
                                time: '2023-10-06T09:15:00'
                            }
                        ]
                    },
                    {
                        id: 4,
                        orderNumber: 'TAX20230004',
                        customerId: 3,
                        serviceType: 'accounting',
                        servicePeriod: 6,
                        serviceStartDate: '2023-09-01',
                        serviceEndDate: '2024-02-29',
                        amount: 1800.00,
                        description: '代理记账服务，一般纳税人',
                        department: 'accounting',
                        assigneeId: 4,
                        status: 'processing',
                        createdAt: '2023-08-20T14:30:00',
                        updatedAt: '2023-08-21T10:00:00',
                        timeline: [
                            {
                                status: 'pending',
                                note: '订单创建',
                                operator: 1,
                                time: '2023-08-20T14:30:00'
                            },
                            {
                                status: 'processing',
                                note: '接收客户资料，开始服务',
                                operator: 4,
                                time: '2023-08-21T10:00:00'
                            }
                        ],
                        monthlyStatus: [
                            { month: '2023-09', status: 'completed', operator: 4, date: '2023-10-08' },
                            { month: '2023-10', status: 'completed', operator: 4, date: '2023-11-05' },
                            { month: '2023-11', status: 'pending', operator: null, date: null }
                        ]
                    }
                ];
                localStorage.setItem('orders', JSON.stringify(initialOrders));
            }
            
            if (!localStorage.getItem('customers')) {
                const initialCustomers = [
                    {
                        id: 1,
                        name: '深圳创新科技有限公司',
                        contact: '张三',
                        phone: '13800138000',
                        email: 'zhang@example.com',
                        address: '深圳市南山区科技园',
                        type: 'enterprise',
                        salesId: 2,
                        remark: '长期合作客户，已完成公司注册，目前在做代理记账',
                        createdAt: '2023-01-15T00:00:00'
                    },
                    {
                        id: 2,
                        name: '广州商贸有限公司',
                        contact: '李四',
                        phone: '13900139000',
                        email: 'li@example.com',
                        address: '广州市天河区天河路',
                        type: 'enterprise',
                        salesId: 2,
                        remark: '需要办理地址变更',
                        createdAt: '2023-03-20T00:00:00'
                    },
                    {
                        id: 3,
                        name: '王五',
                        contact: '王五',
                        phone: '13700137000',
                        email: 'wang@example.com',
                        address: '深圳市福田区',
                        type: 'individual',
                        salesId: 2,
                        remark: '个人创业者，代理记账服务',
                        createdAt: '2023-05-10T00:00:00'
                    }
                ];
                localStorage.setItem('customers', JSON.stringify(initialCustomers));
            }
            
            if (!localStorage.getItem('employees')) {
                const initialEmployees = [
                    {
                        id: 1,
                        name: '管理员',
                        username: 'admin',
                        password: 'admin123', // 实际应用中应加密存储
                        department: 'all',
                        phone: '13500135000',
                        email: 'admin@example.com',
                        role: 'admin',
                        status: 'active',
                        createdAt: '2023-01-01T00:00:00'
                    },
                    {
                        id: 2,
                        name: '张销售',
                        username: 'sales',
                        password: 'sales123', // 实际应用中应加密存储
                        department: 'sales',
                        phone: '13600136000',
                        email: 'sales@example.com',
                        role: 'staff',
                        status: 'active',
                        createdAt: '2023-01-05T00:00:00'
                    },
                    {
                        id: 3,
                        name: '李工商',
                        username: 'business',
                        password: 'business123', // 实际应用中应加密存储
                        department: 'business',
                        phone: '13400134000',
                        email: 'business@example.com',
                        role: 'staff',
                        status: 'active',
                        createdAt: '2023-02-10T00:00:00'
                    },
                    {
                        id: 4,
                        name: '王会计',
                        username: 'accounting',
                        password: 'accounting123', // 实际应用中应加密存储
                        department: 'accounting',
                        phone: '13300133000',
                        email: 'accounting@example.com',
                        role: 'staff',
                        status: 'active',
                        createdAt: '2023-02-15T00:00:00'
                    }
                ];
                localStorage.setItem('employees', JSON.stringify(initialEmployees));
            }
            
            if (!localStorage.getItem('services')) {
                const initialServices = [
                    {
                        id: 1,
                        name: '公司注册',
                        code: 'company-registration',
                        department: 'business',
                        description: '各类公司注册服务',
                        isRecurring: 0
                    },
                    {
                        id: 2,
                        name: '代理记账',
                        code: 'accounting',
                        department: 'accounting',
                        description: '企业财务代理记账服务，按月收费',
                        isRecurring: 1
                    },
                    {
                        id: 3,
                        name: '公司注销',
                        code: 'company-cancellation',
                        department: 'business',
                        description: '公司注销服务',
                        isRecurring: 0
                    },
                    {
                        id: 4,
                        name: '公司变更',
                        code: 'company-change',
                        department: 'business',
                        description: '公司信息变更服务（地址、法人、经营范围等）',
                        isRecurring: 0
                    }
                ];
                localStorage.setItem('services', JSON.stringify(initialServices));
            }
            
            if (!localStorage.getItem('settings')) {
                const initialSettings = {
                    orderPrefix: 'TAX',
                    autoAssignOrder: 0,
                    renewalReminderDays: 30
                };
                localStorage.setItem('settings', JSON.stringify(initialSettings));
            }
            
            // 加载数据到内存
            loadData();
        }

        // 从本地存储加载数据到内存
        function loadData() {
            orders = JSON.parse(localStorage.getItem('orders') || '[]');
            customers = JSON.parse(localStorage.getItem('customers') || '[]');
            employees = JSON.parse(localStorage.getItem('employees') || '[]');
            services = JSON.parse(localStorage.getItem('services') || '[]');
            settings = JSON.parse(localStorage.getItem('settings') || '{}');
        }

        // 保存数据到本地存储
        function saveData() {
            localStorage.setItem('orders', JSON.stringify(orders));
            localStorage.setItem('customers', JSON.stringify(customers));
            localStorage.setItem('employees', JSON.stringify(employees));
            localStorage.setItem('services', JSON.stringify(services));
            localStorage.setItem('settings', JSON.stringify(settings));
        }

        // 检查用户登录状态
        function checkLoginStatus() {
            const loggedInUser = localStorage.getItem('loggedInUser');
            if (loggedInUser) {
                currentUser = JSON.parse(loggedInUser);
                showMainSystem();
            } else {
                showLoginPage();
            }
        }

        // 显示登录页面
        function showLoginPage() {
            document.getElementById('login-page').classList.remove('hidden');
            document.getElementById('main-system').classList.add('hidden');
        }

        // 显示主系统页面
        function showMainSystem() {
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById('main-system').classList.remove('hidden');
            
            // 更新当前用户信息
            document.getElementById('current-username').textContent = currentUser.name;
            
            const departmentText = currentUser.department === 'sales' ? '销售部' : 
                                 currentUser.department === 'business' ? '工商部' : 
                                 currentUser.department === 'accounting' ? '会计部' : '管理部';
                                 
            const roleText = currentUser.role === 'admin' ? '管理员' : 
                           currentUser.role === 'manager' ? '经理' : '员工';
                           
            document.getElementById('current-user-department-role').textContent = `${departmentText} / ${roleText}`;
            
            // 根据用户角色和部门显示/隐藏功能
            updateRoleAndDepartmentBasedUI();
            
            // 加载默认页面
            showPage('dashboard');
        }

        // 根据用户角色和部门更新UI
        function updateRoleAndDepartmentBasedUI() {
            // 处理角色权限
            const roleElements = document.querySelectorAll('[data-role]');
            roleElements.forEach(element => {
                const requiredRoles = element.getAttribute('data-role').split(' ');
                if (requiredRoles.includes(currentUser.role)) {
                    element.classList.remove('hidden');
                } else {
                    element.classList.add('hidden');
                }
            });
            
            // 处理部门权限
            const departmentElements = document.querySelectorAll('[data-department]');
            departmentElements.forEach(element => {
                const requiredDepartments = element.getAttribute('data-department').split(' ');
                if (requiredDepartments.includes(currentUser.department) || requiredDepartments.includes('all')) {
                    element.classList.remove('hidden');
                } else {
                    element.classList.add('hidden');
                }
            });
            
            // 为会计部人员加载会计负责人选项
            if (currentUser.department === 'accounting') {
                loadAccountingAssigneeOptions();
            }
        }

        // 显示指定页面
        function showPage(pageId) {
            // 隐藏所有页面
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            
            // 移除所有导航项的active类
            document.querySelectorAll('.sidebar-menu-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // 显示选中的页面
            document.getElementById(`${pageId}-page`).classList.remove('hidden');
            
            // 为选中的导航项添加active类
            document.querySelector(`.sidebar-menu-link[data-page="${pageId}"]`).classList.add('active');
            
            // 加载页面数据
            switch(pageId) {
                case 'dashboard':
                    loadDashboardData();
                    break;
                case 'orders':
                    loadOrdersData();
                    break;
                case 'customers':
                    loadCustomersData();
                    break;
                case 'sales':
                    loadSalesData();
                    break;
                case 'business':
                    loadBusinessData();
                    break;
                case 'accounting':
                    loadAccountingData();
                    break;
                case 'employees':
                    loadEmployeesData();
                    break;
                case 'settings':
                    loadSettingsData();
                    break;
            }
        }

        // 加载仪表盘数据
        function loadDashboardData() {
            // 计算订单统计
            const totalOrders = orders.length;
            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            
            // 计算会计服务相关统计
            const accountingOrders = orders.filter(order => 
                order.serviceType === 'accounting' && order.status === 'processing'
            );
            const activeAccounting = accountingOrders.length;
            
            // 计算即将到期的客户
            const today = new Date();
            const reminderDays = settings.renewalReminderDays || 30;
            const expiringDate = new Date();
            expiringDate.setDate(today.getDate() + reminderDays);
            
            const expiringSoon = accountingOrders.filter(order => {
                if (!order.serviceEndDate) return false;
                const endDate = new Date(order.serviceEndDate);
                return endDate <= expiringDate && endDate >= today;
            }).length;
            
            // 更新统计数字
            document.getElementById('total-orders').textContent = totalOrders;
            document.getElementById('pending-orders').textContent = pendingOrders;
            document.getElementById('active-accounting').textContent = activeAccounting;
            document.getElementById('expiring-soon').textContent = expiringSoon;
            
            // 加载最近订单（取最近5条）
            const recentOrders = [...orders]
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 5);
            
            const recentOrdersTable = document.getElementById('recent-orders-table');
            recentOrdersTable.innerHTML = '';
            
            recentOrders.forEach(order => {
                const customer = customers.find(c => c.id === order.customerId) || { name: '未知客户' };
                const service = getServiceName(order.serviceType);
                const department = getDepartmentName(order.department);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.orderNumber}</td>
                    <td>${customer.name}</td>
                    <td>${service}</td>
                    <td>${department}</td>
                    <td><span class="badge badge-${getStatusBadgeClass(order.status)}">${getStatusText(order.status)}</span></td>
                    <td>${formatDate(order.createdAt)}</td>
                    <td>
                        <button class="btn btn-secondary btn-sm view-order-btn" data-id="${order.id}">
                            <i class="fas fa-eye"></i> 查看
                        </button>
                    </td>
                `;
                recentOrdersTable.appendChild(row);
                
                // 绑定查看订单事件
                row.querySelector('.view-order-btn').addEventListener('click', function() {
                    viewOrderDetail(parseInt(this.getAttribute('data-id')));
                });
            });
        }

        // 加载订单数据
        function loadOrdersData() {
            // 重置页码
            currentOrderPage = 1;
            
            // 加载客户下拉列表
            loadCustomerSelectOptions();
            
            // 加载员工下拉列表
            loadEmployeeSelectOptions();
            
            // 渲染订单列表
            renderOrdersTable();
        }

        // 渲染订单表格
        function renderOrdersTable() {
            // 获取筛选条件
            const searchText = document.getElementById('order-search').value.toLowerCase();
            const statusFilter = document.getElementById('order-status-filter').value;
            const serviceFilter = document.getElementById('order-service-filter').value;
            const departmentFilter = document.getElementById('order-department-filter').value;
            const dateFilter = document.getElementById('order-date-filter').value;
            
            // 筛选订单
            let filteredOrders = [...orders];
            
            if (searchText) {
                filteredOrders = filteredOrders.filter(order => {
                    const customer = customers.find(c => c.id === order.customerId) || { name: '' };
                    return order.orderNumber.toLowerCase().includes(searchText) || 
                           customer.name.toLowerCase().includes(searchText);
                });
            }
            
            if (statusFilter) {
                filteredOrders = filteredOrders.filter(order => order.status === statusFilter);
            }
            
            if (serviceFilter) {
                filteredOrders = filteredOrders.filter(order => order.serviceType === serviceFilter);
            }
            
            if (departmentFilter) {
                filteredOrders = filteredOrders.filter(order => order.department === departmentFilter);
            }
            
            if (dateFilter) {
                filteredOrders = filteredOrders.filter(order => {
                    const orderDate = new Date(order.createdAt).toISOString().split('T')[0];
                    return orderDate === dateFilter;
                });
            }
            
            // 按创建时间降序排序
            filteredOrders.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            
            // 分页处理
            const totalPages = Math.ceil(filteredOrders.length / pageSize);
            const startIndex = (currentOrderPage - 1) * pageSize;
            const paginatedOrders = filteredOrders.slice(startIndex, startIndex + pageSize);
            
            // 渲染表格
            const ordersTable = document.getElementById('orders-table');
            ordersTable.innerHTML = '';
            
            if (paginatedOrders.length === 0) {
                const emptyRow = document.createElement('tr');
                emptyRow.innerHTML = `<td colspan="8" style="text-align: center; padding: 2rem;">没有找到匹配的订单</td>`;
                ordersTable.appendChild(emptyRow);
            } else {
                paginatedOrders.forEach(order => {
                    const customer = customers.find(c => c.id === order.customerId) || { name: '未知客户' };
                    const assignee = employees.find(e => e.id === order.assigneeId) || { name: '未分配' };
                    const service = getServiceName(order.serviceType);
                    const department = getDepartmentName(order.department);
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${order.orderNumber}</td>
                        <td>${customer.name}</td>
                        <td>${service}</td>
                        <td>${department}</td>
                        <td>${assignee.name}</td>
                        <td><span class="badge badge-${getStatusBadgeClass(order.status)}">${getStatusText(order.status)}</span></td>
                        <td>${formatDate(order.createdAt)}</td>
                        <td>
                            <button class="btn btn-secondary btn-sm view-order-btn" data-id="${order.id}">
                                <i class="fas fa-eye"></i> 查看
                            </button>
                            ${currentUser.role === 'admin' || currentUser.role === 'manager' ? `
                                <button class="btn btn-primary btn-sm edit-order-btn" data-id="${order.id}">
                                    <i class="fas fa-edit"></i> 编辑
                                </button>
                            ` : ''}
                            ${(currentUser.role === 'admin' || currentUser.role === 'manager' || 
                               (order.assigneeId === currentUser.id && order.department === currentUser.department)) && 
                              order.status !== 'completed' && order.status !== 'cancelled' ? `
                                <button class="btn btn-success btn-sm process-order-btn" data-id="${order.id}">
                                    <i class="fas fa-cog"></i> 处理
                                </button>
                            ` : ''}
                        </td>
                    `;
                    ordersTable.appendChild(row);
                    
                    // 绑定事件
                    row.querySelector('.view-order-btn').addEventListener('click', function() {
                        viewOrderDetail(parseInt(this.getAttribute('data-id')));
                    });
                    
                    if (row.querySelector('.edit-order-btn')) {
                        row.querySelector('.edit-order-btn').addEventListener('click', function() {
                            editOrder(parseInt(this.getAttribute('data-id')));
                        });
                    }
                    
                    if (row.querySelector('.process-order-btn')) {
                        row.querySelector('.process-order-btn').addEventListener('click', function() {
                            processOrder(parseInt(this.getAttribute('data-id')));
                        });
                    }
                });
            }
            
            // 渲染分页
            renderPagination('orders-pagination', totalPages, currentOrderPage, function(page) {
                currentOrderPage = page;
                renderOrdersTable();
            });
        }

        // 加载客户数据
        function loadCustomersData() {
            // 重置页码
            currentCustomerPage = 1;
            
            // 加载销售下拉列表